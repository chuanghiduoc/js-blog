$.getScript("https://www.gstatic.com/firebasejs/5.8.3/firebase.js").done(function() {
    function a(a, t, e, s) {
        var o, l = s.find(a).eq(0),
            n = l.attr(e);
        if (null !== localStorage.getItem(t)) {
            var c = JSON.parse(localStorage[t]);
            for (i = 0; i < c.length; i++) c[i] === n && l.addClass(t)
        }
        firebase.database().ref(t + "/" + n + "/total").on("value", function(a) {
            o = a.val() || 0, l.find(".total").eq(0).html(o)
        }), l.on("click", function(a) {
            if (a.preventDefault(), $(this).toggleClass(t), $(this).hasClass(t)) {
                if (null === localStorage.getItem(t)) localStorage.setItem(t, JSON.stringify([n]));
                else {
                    var e = JSON.parse(localStorage[t]);
                    e.filter(function(a) {
                        return a == n
                    }).length || (e.push(n), localStorage.setItem(t, JSON.stringify(e)))
                }
                o++
            } else {
                for (var s = JSON.parse(localStorage[t]), i = 0; i < s.length; i++) s[i] === n && s.splice(i, 1);
                localStorage.setItem(t, JSON.stringify(s)), o--
            }
            firebase.database().ref(t + "/" + n + "/total").set(o)
        })
    }
    firebase.initializeApp({
        apiKey: "AIzaSyDEb0x2A0lG-wmWWfrmbWAvEpY34vRWI6k",
        authDomain: "nguyen-tinh.firebaseapp.com",
        databaseURL: "https://nguyen-tinh.firebaseio.com",
        projectId: "nguyen-tinh",
        storageBucket: "nguyen-tinh.appspot.com",
        messagingSenderId: "509791360495"
    }), $(".post-reaction").each(function() {
        a(".like-button", "like", "data-post-id", $(this)), a(".love-button", "love", "data-post-id", $(this)), a(".haha-button", "haha", "data-post-id", $(this)), a(".wow-button", "wow", "data-post-id", $(this)), a(".sad-button", "sad", "data-post-id", $(this)), a(".angry-button", "angry", "data-post-id", $(this))
    }), $(".reaction-label").each(function() {
        var a = $(this),
            t = a.attr("data-post-id");
        firebase.database().ref("like/" + t + "/total").on("value", function(e) {
            var s = e.val();
            firebase.database().ref("love/" + t + "/total").on("value", function(e) {
                var o = e.val();
                firebase.database().ref("haha/" + t + "/total").on("value", function(e) {
                    var i = e.val();
                    firebase.database().ref("wow/" + t + "/total").on("value", function(e) {
                        var l = e.val();
                        firebase.database().ref("sad/" + t + "/total").on("value", function(e) {
                            var n = e.val();
                            firebase.database().ref("angry/" + t + "/total").on("value", function(t) {
                                var e = t.val();
                                a.find("#totallike").html(s + o + i + l + n + e)
                            })
                        })
                    })
                })
            })
        })
    }), $(".comments-content .comment .comment-block").each(function() {
        var t = $(this),
            e = $(".comments-content").attr("data-post-comment");
        t.append('<div class="comment-reaction"><a class="comment-like" data-comment-id="' + e + "-" + t.parents("li").attr("id") + '"><svg class="svg svg-18" focusable="false" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g class="style-scope"><path class="style-scope yt-icon" d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z"></path></g></svg><span class="total"></span></a><a class="comment-dislike" data-comment-id="' + e + "-" + t.parents("li").attr("id") + '"><svg class="svg svg-18" focusable="false" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g class="style-scope"><path class="style-scope yt-icon" d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"></path></g></svg><span class="total"></span></a></div>'), a(".comment-like", "like-cmt", "data-comment-id", t), a(".comment-dislike", "dislike-cmt", "data-comment-id", t)
    })
});
